<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
a:link, span.MsoHyperlink
	{color:#0563C1;
	text-decoration:underline;}
.MsoChpDefault
	{font-family:"Calibri",sans-serif;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:107%;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
-->
</style>

</head>

<body lang=EN-US link="#0563C1" vlink="#954F72" style='word-wrap:break-word'>

<div class=WordSection1>

<p class=MsoNormal align=center style='text-align:center'><span
style='font-size:14.0pt;line-height:107%'>AI YouTube Video Chat</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>Video Link: <a
href="https://youtu.be/dv6CAxMD_ts" target="_blank">https://youtu.be/dv6CAxMD_ts</a></span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>GitHub
Repository: <a href="https://github.com/Ashot72/AI-YouTube-Video-Chat"
target="_blank">https://github.com/Ashot72/AI-YouTube-Video-Chat</a></span></p>

<p class=MsoNormal align=center style='text-align:center'><span
style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>In this AI YouTube
Video Chat Next.js application, we ask questions to a YouTube video bot and get
answers. This application makes use of LangChain <a
href="https://js.langchain.com/" target="_blank">https://js.langchain.com/</a></span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'> which is a
framework for developing applications powered by language models. As a
cloud-based database, MongoDB <a href="https://www.mongodb.com/atlas/database"
target="_blank">https://www.mongodb.com/atlas/database</a></span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'> is used with
Prisma ORM <a href="https://www.prisma.io/" target="_blank">https://www.prisma.io/</a>.
We utilize HNSWLIB <a
href="https://js.langchain.com/docs/modules/indexes/vector_stores/integrations/hnswlib"
target="_blank">https://js.langchain.com/docs/modules/indexes/vector_stores/integrations/hnswlib</a>,
an in-memory vector</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'> store that
can be saved to a file. To learn more about vector DB, you can refer to my <i>LangChain
Document Helper</i> <a
href="https://github.com/Ashot72/LangChain-Documentation-Helper">https://github.com/Ashot72/LangChain-Documentation-Helper</a>
application.</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1132 height=540 id="Picture 1"
src="doc_files/image001.jpg"></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>Figure 1</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>Note that we
are using the latest Next.js 13 <a href="https://nextjs.org/docs"
target="_blank">https://nextjs.org/docs</a>  with the app directory, which
makes it easy lay out complex interfaces that maintain state</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>across
navigations, avoid expensive re-renders, and enable advanced routing patterns.</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=501 height=360 id="Picture 3"
src="doc_files/image002.png"></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>Figure 2</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>We use NextAuth
<a href="https://next-auth.js.org/" target="_blank">https://next-auth.js.org/</a>
for the authentication with Google Provider. In this</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'><a
href="https://www.makeuseof.com/integrate-google-authentication-in-nextjs-using-nextauth/">https://www.makeuseof.com/integrate-google-authentication-in-nextjs-using-nextauth/</a>
article you can read how to integrate Google Authentication in Next.js</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>apps using
NextAuth.</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=867 height=424 id="Picture 4"
src="doc_files/image003.jpg"></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>Figure 3</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>When we add
a video, the first thing we do is get the video transcription.</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=909 height=459 id="Picture 6"
src="doc_files/image004.jpg"></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>Figure 4</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>We use
YoutubeTranscript package to extract a transcript from a YouTube video.</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=922 height=430 id="Picture 7"
src="doc_files/image005.jpg"></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>Figure 5</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>In the
second step, we create an HNSWLIB index for each video and save it on the hard
drive.</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=961 height=521 id="Picture 8"
src="doc_files/image006.jpg"></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>Figure 6</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>You cannot add
a video URLs that already exist. Each index belongs to one YouTube video.</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=985 height=631 id="Picture 9"
src="doc_files/image007.jpg"></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>Figure 7</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>Next, we
summarize the video transcript.</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=987 height=443 id="Picture 10"
src="doc_files/image008.jpg"></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>Figure 8</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>Finally, we save
the video information to the MongoDB database.</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1057 height=526 id="Picture 11"
src="doc_files/image009.jpg"></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>Figure 9</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>When we
start a YouTube video chat, we load the database from the hard drive only once,
which occurs when the first prompt is sent to the bot.</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1012 height=747 id="Picture 12"
src="doc_files/image010.jpg"></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>Figure 10</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>Here, you can
see that we load the indexed DB store from the hard drive, generate the chain
and save the chain information along with the </span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>videoId of
the YouTube URL.</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>Each time we
check, if we find the index in the <i>chains</i> array, we load the
corresponding file from the hard drive. Therefore, we only load</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>the indexed
file from the hard drive once, create the chatGPT model, and initialize the chain
only once as well.</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1073 height=486 id="Picture 13"
src="doc_files/image011.jpg"></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>Figure 11</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>We also
generate a conversation log and pass the last ten conversation to the chain as chat
history, which serves as the context for each prompt.</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1076 height=567 id="Picture 14"
src="doc_files/image012.jpg"></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>Figure 12</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>Here is the conversation
log in MongoDB.</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%'>&nbsp;</span></p>

</div>

</body>

</html>
